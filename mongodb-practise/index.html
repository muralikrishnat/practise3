<!DOCTYPE html>
<html lang="en">

<head>
    <title></title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    <div class="container">
        <div class="module-tsheet">
            <table class="tsheet-project-list">
                <tr>
                    <td>Project Name</td>
                    <td>Mon</td>
                    <td>Tue</td>
                    <td>Wed</td>
                    <td>Thu</td>
                    <td>Fri</td>
                    <td>Sat</td>
                    <td>Sun</td>
                </tr>
            </table>
        </div>
    </div>
    <script type="text/template" template="tsheet-project">
        <tr>
            <td>{{ProjectName}}</td>
            <td>{{Mon}}</td>
            <td>{{Tue}}</td>
            <td>{{Wed}}</td>
            <td>{{Thu}}</td>
            <td>{{Fri}}</td>
            <td>{{Sat}}</td>
            <td>{{Sun}}</td>
        </tr>
    </script>
    <script>
        var $M = function (selector) {
            return document.querySelector(selector);
        };

        $M.get = (url, params) => {
            return new Promise((res, rej) => {
                var xhr = new XMLHttpRequest();
                xhr.onreadystatechange = function (f) {
                    if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
                        res({ err: null, data: xhr.responseText });
                    }
                };

                xhr.onerror = (err) => {
                    res({ err });
                }
                xhr.open('GET', url);
                xhr.send();
            });
        };

        $M.post = (url, postData, qParams) => {
            return new Promise((res, rej) => {

            });
        };
    </script>
    <script>
        var toDay = new Date();

        var generateCurrentWeek = (dateToGenerate) => {
            var tDate = dateToGenerate,
                weekHash = {
                    "Mon": null,
                    "Tue": null,
                    "Wed": null,
                    "Thu": null,
                    "Fri": null,
                    "Sat": null,
                    "Sun": null,
                },
                days = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                sNo = 0;
            if (dateToGenerate instanceof Date) {
                tDate = dateToGenerate.getTime();
            }
            tDate = new Date(tDate);

            switch (tDate.getDay()) {
                case 1:
                    sNo = 0;
                    break;
                case 2:
                    sNo = -1;
                    break;
                case 3:
                    sNo = -2;
                    break;
                case 4:
                    sNo = -3;
                    break;
                case 5:
                    sNo = -4;
                    break;
                case 0:
                    sNo = -6;
                    break;
                case 6:
                    sNo = -5;
                    break;
                default:
                    break;
            }
            for (var i = 0; i <= 6; i++ , sNo++) {
                var tmpDate = new Date(tDate.getTime());
                tmpDate.setDate(tmpDate.getDate() + sNo);
                tmpDate = new Date(tmpDate);
                weekHash[days[tmpDate.getDay()]] = tmpDate;
            }

            console.log(weekHash);
        };


        var renderTSheets = () => {
            
        };


        generateCurrentWeek(toDay.getTime());

        // toDay.setDate(toDay.getDate() + 1);
        // generateCurrentWeek(toDay.getTime());

        // toDay.setDate(toDay.getDate() + 1);
        // generateCurrentWeek(toDay.getTime());

        // toDay.setDate(toDay.getDate() + 1);
        // generateCurrentWeek(toDay.getTime());

        // toDay.setDate(toDay.getDate() + 1);
        // generateCurrentWeek(toDay.getTime());

        // toDay.setDate(toDay.getDate() + 1);
        // generateCurrentWeek(toDay.getTime());

        // toDay.setDate(toDay.getDate() + 1);
        // generateCurrentWeek(toDay.getTime());


    </script>
</body>

</html>